{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/Transactionlist.js","pages/home/Home.js","hooks/useCollection.js","hooks/useLogin.js","pages/login/Login.js","hooks/useSignup.js","pages/signup/Signup.js","hooks/useLogout.js","components/Navbar.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authisReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","iscancelled","setIscancelled","ref","dispatchIfNotCancelled","addDocument","doc","a","createdAt","fromDate","Date","add","addeddoc","message","deletedocument","id","delete","TransactionForm","uid","name","setname","Amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","Transactionlist","transactions","className","styles","map","transaction","amount","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","err","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","ispending","setIsPending","setisCancelled","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","displayName","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","logout","signOut","useLogout","navbar","title","to","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e3568a2e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1zDng\",\"content\":\"Home_content__2osLB\",\"sidebar\":\"Home_sidebar__27buR\",\"transactions\":\"Home_transactions__3WGnx\",\"name\":\"Home_name__utucx\",\"amount\":\"Home_amount__1bWe2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3ILbc\",\"title\":\"Navbar_title__3y7T6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__2oU-b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__34d5Q\"};","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC4JDwxGnjdIOHWXZGV8itxDyp0XssocDI\",\n  authDomain: \"mymoney2-ea29a.firebaseapp.com\",\n  projectId: \"mymoney2-ea29a\",\n  storageBucket: \"mymoney2-ea29a.appspot.com\",\n  messagingSenderId: \"219465130077\",\n  appId: \"1:219465130077:web:f02174a5f76a5866fb6db4\"\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig)\n\n// init services\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\n\nconst timestamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth , timestamp}","import { createContext,useReducer } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { projectAuth } from \"../firebase/config\";\r\n\r\nexport const AuthContext = createContext()\r\nexport const authReducer = (state, action) => {\r\n    switch(action.type){\r\n        case 'LOGIN' : \r\n            return {...state, user:action.payload}\r\n        case 'LOGOUT' :\r\n            return {...state, user: null}\r\n\r\n        case 'AUTH_IS_READY':\r\n            return {...state, user: action.payload, authisReady: true}\r\n        default: \r\n            return state\r\n\r\n    } \r\n}\r\nexport const AuthContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(authReducer, {\r\n        user: null,\r\n        authisReady: false\r\n    })\r\n    useEffect(() => {\r\n    const unsub = projectAuth.onAuthStateChanged(user => {\r\n        dispatch({type: 'AUTH_IS_READY', payload: user })\r\n        unsub()\r\n    })\r\n    }, []);\r\n\r\n    console.log('authcontext state', state);\r\n    return (\r\n        <AuthContext.Provider value = {{ ...state, dispatch}}>\r\n            { children }\r\n        </AuthContext.Provider>\r\n    )\r\n}","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport const  useAuthContext = () => {\r\n    const context = useContext(AuthContext)\r\n    if(!context){\r\n        throw new Error('use Authcontext must be inside a authcontextprovider')\r\n    }\r\n    return context\r\n}","import { projectFirestore , timestamp} from \"../firebase/config\";\r\nimport { useEffect,useReducer,useState } from \"react\";\r\n\r\nlet initialState = {\r\n    document: null,\r\n    isPending: false,\r\n    error: null,\r\n    success: null\r\n}\r\n\r\nconst firestoreReducer = (state, action) => {\r\n    switch (action.type){\r\n        case 'IS_PENDING':\r\n            return { isPending: true, document: null, success: false, error: null }\r\n        case 'ADDED_DOC':\r\n            return { isPending: false, document: action.payload, success: true, error: null}\r\n        case 'ERROR':\r\n            return {isPending: false, document: null, success: false, error: action.payload}\r\n        case 'DELETED_DOC':\r\n            return {isPending: false, document: null, success: true, error: null}\r\n        default: \r\n            return state\r\n    }\r\n}\r\n\r\nexport const useFirestore = (collection) => {\r\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\r\n    const [iscancelled, setIscancelled] = useState(false)\r\n\r\n    //\r\n    const ref  = projectFirestore.collection(collection)\r\n\r\n    //only dispatch if not cancelled\r\n    const dispatchIfNotCancelled = (action) =>{\r\n        if(!iscancelled){\r\n            dispatch(action)\r\n        }\r\n    }\r\n    //add a document\r\n    const addDocument = async (doc) => {\r\n        dispatch({type: 'IS_PENDING'})\r\n        try{\r\n            const createdAt = timestamp.fromDate(new Date())\r\n            const addeddoc = await ref.add({...doc, createdAt})\r\n            dispatchIfNotCancelled({\r\n                type: 'ADDED_DOC',\r\n                payload: addeddoc\r\n            })\r\n        }catch(err){\r\n            dispatchIfNotCancelled({\r\n                type: \"ERROR\",\r\n                payload: err.message\r\n            })\r\n        }\r\n    }\r\n\r\n    //delete a document\r\n    const deletedocument = async (id) => {\r\n        dispatch({type: 'IS_PENDING'})\r\n        try{\r\n            await ref.doc(id).delete()\r\n            dispatchIfNotCancelled({type: 'DELETED_DOC'})\r\n        }\r\n        catch(err){\r\n            dispatchIfNotCancelled({type: 'ERROR', payload: 'could not delete'})\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        return () => setIscancelled(true)\r\n    }, [])\r\n    return {addDocument, deletedocument, response}\r\n}","import { useState,useEffect } from \"react\"\r\nimport { useFirestore } from \"../../hooks/useFirestore\"\r\n\r\nexport default function TransactionForm({uid}) {\r\n    const [name, setname] = useState('')\r\n    const [Amount, setAmount] = useState('')\r\n    const {addDocument, response} = useFirestore('transactions')\r\n\r\n    const handlesubmit = (e) => {\r\n        e.preventDefault()\r\n        // console.log({name, Amount})\r\n        addDocument({\r\n            uid,\r\n            name,\r\n            Amount\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        if (response.success){\r\n            setname('')\r\n            setAmount('')\r\n        }\r\n    }, [response.success]);\r\n\r\n  return (\r\n    <>\r\n        <h3>add a transaction</h3>\r\n        <form onSubmit={handlesubmit}>\r\n            <label>\r\n                <span>Transaction name</span>\r\n                <input type='text' required onChange={(e) => setname(e.target.value)} value={name}/>\r\n            </label>\r\n\r\n            <label>\r\n                <span>Amount ($)</span>\r\n                <input type='number' required onChange={(e) => setAmount(e.target.value)} value={Amount}/>\r\n            </label>\r\n\r\n            <button>Add transaction</button>\r\n        </form>\r\n    </>\r\n  )\r\n}\r\n","import styles from './Home.module.css'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\n\r\nexport default function Transactionlist({ transactions }) {\r\n    const {deletedocument} = useFirestore('transactions')\r\n\r\n  return (\r\n      <ul className={styles.transactions}>\r\n        {transactions.map(transaction => (\r\n            <li key={transaction.id}>\r\n                <p className={styles.name}>{transaction.name}</p>\r\n                <p className={styles.amount}>${transaction.Amount}</p>\r\n                <button onClick={() => deletedocument(transaction.id)}>X</button>\r\n            </li>\r\n        ))}\r\n      </ul>\r\n  )\r\n}\r\n","// styles\nimport styles from './Home.module.css'\nimport TransactionForm from './TransactionForm'\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useCollection } from '../../hooks/useCollection'\nimport Transactionlist from './Transactionlist'\n\nexport default function Home() {\n  const {user} = useAuthContext()\n  const { documents, error} = useCollection('transactions', ['uid', '==', user.uid ], ['createdAt', 'desc'])\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {documents && <Transactionlist transactions = {documents}/>}\n      </div>\n      <div className={styles.sidebar}>\n          <TransactionForm uid = {user.uid}/>\n      </div>\n    </div>\n  )\n}\n","import { projectFirestore } from \"../firebase/config\";\r\nimport { useState,useEffect, useRef } from \"react\";\r\n\r\n\r\nexport const useCollection = (collection, _query, _orderBy) => {\r\n    const [documents, setDocuments] = useState(null)\r\n    const [error, setError] = useState(null)\r\n    const query = useRef(_query).current\r\n    const orderBy = useRef(_orderBy).current \r\n    useEffect(() => {\r\n        let ref = projectFirestore.collection(collection)\r\n\r\n        if(query){\r\n            ref = ref.where(...query)\r\n        }\r\n        if(orderBy){\r\n            ref = ref.orderBy(...orderBy, )\r\n        }\r\n        const unsubscribe = ref.onSnapshot((snapshot) => {\r\n            let results = []\r\n            snapshot.docs.forEach(doc => {\r\n                results.push({...doc.data(), id: doc.id})\r\n            })\r\n                    //update state\r\n        setDocuments(results)\r\n        setError(null)\r\n        }, (err) => {\r\n            console.log(err)\r\n            setError('could not fetch data')\r\n        })\r\n\r\n\r\n        return () => unsubscribe() \r\n    }, [collection, query, orderBy])\r\n    return {documents, error}\r\n}","import { useState,useEffect } from \"react\"\r\nimport { projectAuth } from \"../firebase/config\"\r\nimport { useAuthContext } from \"./useAuthContext\"\r\n\r\nexport const useLogin = ( ) => {\r\n    const [error, setError] = useState(null)\r\n    const [ispending,setIsPending] = useState(false)\r\n    const {dispatch} = useAuthContext()\r\n    const [iscancelled, setisCancelled] = useState(false)\r\n    \r\n    const login = async (email, password) =>{\r\n        setError(null)\r\n        setIsPending(true)\r\n    \r\n            try{\r\n                //const res =  projectAuth.signInWithEmailAndPassword(email, password)\r\n                const res = await projectAuth.signInWithEmailAndPassword(email, password)\r\n                dispatch({type: 'LOGIN', payload: res.user})\r\n                \r\n\r\n                \r\n                if(!iscancelled){\r\n                    setIsPending(false)\r\n                    setError(null)\r\n                }\r\n\r\n            }catch(err){\r\n                if(!iscancelled){\r\n                    console.log(err.message)\r\n                    setIsPending(false)\r\n                    setError(err.message)\r\n                }\r\n\r\n            }\r\n            }\r\n            useEffect(() => {\r\n                return () => {\r\n                setisCancelled(true)\r\n            };\r\n            }, []);\r\n    return {login,error,ispending}\r\n}","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n// styles\nimport styles from './Login.module.css'\n\nexport default function Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const {login, error, ispending} = useLogin()\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n      <h2>login</h2>\n      <label>\n        <span>email:</span>\n        <input \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      {!ispending &&<button className=\"btn\">Login</button>}\n      {ispending &&<button className=\"btn\" disabled>Loading</button>}\n      \n      {error && <p> {error}</p>}\n    </form>\n  )\n}\n","import { useState,useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nexport const useSignup = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [iscancelled, setisCancelled] = useState(false)\n  const signup = async (email, password, displayName) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n      \n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      // add display name to user\n      await res.user.updateProfile({ displayName })\n\n      //dispatch login action\n      dispatch(\n        {type: 'LOGIN', payload: res.user}\n      )\n      if(!iscancelled){\n        setIsPending(false)\n        setError(null)\n    }\n\n    } \n    catch(err) {\n      if(!iscancelled){\n        setIsPending(false)\n        setError(null)\n    }\n  }\n  }\n\n  useEffect(() => {  \n    return () => {\n        setisCancelled(true)\n    };\n}, []);\n\n  return { signup, error, isPending }\n}","import { useState } from 'react'\nimport { projectFirestore } from '../../firebase/config'\nimport { useSignup } from '../../hooks/useSignup'\n\n// styles\nimport styles from './Signup.module.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const { signup, isPending, error } = useSignup()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName)\n  }\n  return (\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input \n          type=\"text\" \n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      { !isPending && <button className=\"btn\">sign up</button> }\n      { isPending && <button className=\"btn\" disabled>loading</button> }\n      { error && <p>{error}</p> }\n    </form>\n  )\n}\n","import { useState,useEffect } from \"react\"\r\nimport { projectAuth } from \"../firebase/config\"\r\nimport { useAuthContext } from \"./useAuthContext\"\r\n\r\nexport const useLogout = () => {\r\n    const [error, setError] = useState(null)\r\n    const [ispending,setIsPending] = useState(false)\r\n    const {dispatch} = useAuthContext()\r\n    const [iscancelled, setisCancelled] = useState(false)\r\n    const logout = async () =>{\r\n        setError(null)\r\n        setIsPending(true)\r\n\r\n        //signing users out\r\n\r\n        try{\r\n            await projectAuth.signOut()\r\n            dispatch({type: 'LOGOUT'})\r\n\r\n            \r\n            if(!iscancelled){\r\n                setIsPending(false)\r\n                setError(null)\r\n            }\r\n\r\n        }catch(err){\r\n            console.log(err.message)\r\n            setError(err.message)\r\n            setError(false)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        \r\n        return () => {\r\n            setisCancelled(true)\r\n        };\r\n    }, []);\r\n    return {logout,error,ispending}\r\n}","import { Link } from \"react-router-dom\"\nimport { useLogout } from \"../hooks/useLogout\"\nimport { useAuthContext } from \"../hooks/useAuthContext\"\n// styles\nimport styles from './Navbar.module.css'\n\nexport default function Navbar() {\n  const {logout} =useLogout()\n  const { user } = useAuthContext()\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}>myMoney</li>\n\n        {!user && (\n        <>\n          <li><Link to=\"/login\">Login</Link></li>\n          <li><Link to=\"/signup\">Signup</Link></li>\n        </>)}\n\n        {user && (\n        <>\n          <li>hello, {user.displayName}</li>\n          <li><button className=\"btn\" onClick={logout}>Logout</button></li>\n        </>\n        )}\n      </ul>\n    </nav>\n  )\n}\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\n// pages & components\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Navbar from './components/Navbar'\n\nfunction App() {\n  const {authisReady, user} = useAuthContext()\n  return (\n    <div className=\"App\">\n      {authisReady && (\n      <BrowserRouter>\n        <Navbar />\n        <Switch>\n          <Route exact path=\"/\">\n            {!user && <Redirect to='/login'/>}\n            {user && <Home />}\n          </Route>\n          <Route path=\"/login\">\n            {user && <Redirect to='/' />}\n            {!user && <Login />}\n          </Route>\n          <Route path=\"/signup\">\n            {user && <Redirect to ='/' />}\n            {!user && <Signup />}\n          </Route>\n        </Switch>\n      </BrowserRouter>)}\n\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {AuthContextProvider} from './context/AuthContext';\n \nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}